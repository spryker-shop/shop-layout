<ul class="vertical menu">
    {% for node in _widget.navigationTree.nodes %}
        {% embed '@ShopLayout/layout/navigation/_partials/base-node.twig' %}
            {% block nodeContainer %}
                <li class="{{ class }}">
                    {{ parent() }}

                    {% if node.children|length %}
                        {% include '@ShopLayout/layout/navigation/_partials/nodes.twig' with {nodes: node.children, nested: true} %}
                    {% endif %}
                </li>
            {% endblock %}

            {% block url %}
                <a href="{{ url }}">{{ title }}</a>
            {% endblock %}

            {% block externalUrl %}
                <a href="{{ url }}" target="_blank">{{ title }}</a>
            {% endblock %}

            {% block other %}
                <span class="menu-text">{{ title }}</span>
            {% endblock %}
        {% endembed %}
    {% endfor %}
</ul>
